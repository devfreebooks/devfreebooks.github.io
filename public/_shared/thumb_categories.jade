- var sorted_categories = categories.sort();
- var total_books = sorted_categories.reduce(function(total, category) {
-     return total + public[category]._data.index.books.length;
- }, 0);
section.row-fluid.clearfix
  p.center
    <a href="#{form_url}" class="btn btn-lg btn-success" target="_blank" title="Just click and follow these rules to submit an ebook."><i class="icon-plus"></i>&nbsp;Submit book</a>&nbsp;&nbsp;
    <a href="#{root_url[environment]}about" class="btn btn-lg btn-info"><i class="icon-thumbs-up" title="Support our project doing a humble donation for us!"></i>&nbsp;Donate</a>
  p.center
    <strong>#{total_books}</strong> books and <strong>#{categories.length}</strong> categories
!= partial("filters")
section.row-fluid.clearfix
  .row-fluid
    each category in sorted_categories
      - var category_data = public[category]._data.index
      - var tags = category_data.tags.join(',')
      .col-xs-12.col-sm-4.col-md-3(data-tags="#{tags}")
        .thumbnail
          a(href="#{root_url[environment]}#{category_data.name}" title="#{category_data.about}")
            img.img-responsive.img-rounded(src="#{root_url[environment]}assets/images/#{category_data.image}")
          div.caption
            p.center
              a.btn.btn-block.btn-success(href="#{root_url[environment]}#{category_data.name}" title="#{category_data.about}")<i class="icon-code"></i>&nbsp;#{category_data.subtitle} (#{category_data.books.length} books)
